(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[61,"CarouselCommon"],{"/mzO":function(e,t,a){a.d(t,"a",(function(){return s}));var n=a("q1tI"),i=a.n(n),o=a("Ye/N"),r=a("n6mq");function s({commentsDisabled:e,onCommentChange:t,onPhotoChange:a,photosDisabled:n,isManagedView:s,isNoTitle:l}){const d=(()=>s?6:l?0:3)();return i.a.createElement(r.d,null,!l&&i.a.createElement(r.n,null),i.a.createElement(r.d,{mdDisplay:"flex",justifyContent:"between",paddingX:s?0:4,paddingY:d},!s&&!l&&i.a.createElement(r.d,{column:12,mdColumn:3,paddingY:2},i.a.createElement(r.T,{size:"md"},o.a._("Comment and Photo Permissions"))),i.a.createElement(r.d,{column:12,mdColumn:s?12:8},i.a.createElement(r.d,{paddingY:1,display:"flex",alignItems:"center"},i.a.createElement(r.P,{onChange:t,id:"CommentSwitch",switched:!e}),i.a.createElement(r.d,{paddingX:2},i.a.createElement(r.v,{htmlFor:"CommentSwitch"},i.a.createElement(r.T,{size:"md"},o.a._("Allow people to comment","Label for toggling comments on a pin in pin edit form","Label for toggling comments on a pin in pin edit form"))))),i.a.createElement(r.d,{paddingY:1,alignItems:"center",display:"flex"},i.a.createElement(r.P,{onChange:a,id:"PhotoSwitch",switched:!n}),i.a.createElement(r.d,{paddingX:2},i.a.createElement(r.v,{htmlFor:"PhotoSwitch"},i.a.createElement(r.T,{size:"md"},o.a._("Allow people to upload photos","Label for toggling photos on a pin in pin edit form","Label for toggling photos on a pin in pin edit form"))))))))}},"1RGD":function(e,t,a){a.d(t,"a",(function(){return d}));var n=a("q1tI"),i=a.n(n),o=a("Ye/N"),r=a("vvax"),s=a("n6mq");const l=9;function d({header:e,onUpdate:t,value:a}){const[d,c]=Object(n.useState)(a?String(Math.floor(Number.parseInt(a,10)/60)):"0"),[u,h]=Object(n.useState)(a?String(Number.parseInt(a,10)%60):"0"),p=(e,a)=>{t(String(Number.parseInt(a,10)+60*Number.parseInt(e,10)))},m=[];for(let n=0;n<=l;n+=1)m.push({value:String(n),label:Object(r.b)(o.a.ngettext("{{ hours }} hour","{{ hours }} hours",n,"storyboard.detailsList.recipe","Option for number of hours a story pin recipe will take"),{hours:n}).join("")});const g=[];for(let n=0;n<60;n+=1)g.push({value:String(n),label:Object(r.b)(o.a.ngettext("{{ minutes }} minute","{{ minutes }} minutes",n,"storyboard.detailsList.recipe","Option for number of minutes a story pin recipe will take"),{minutes:n}).join("")});return i.a.createElement(s.d,{width:"100%",display:"flex",alignItems:"end"},i.a.createElement(s.d,{width:"50%",marginEnd:2},i.a.createElement(s.L,{size:"lg",id:"hours",name:"hours",label:e,placeholder:o.a._("Hours","storyboard.detailsList.recipe","Placeholder caption for hours input in story pin recipe cooktime"),value:d,options:m,onChange:({value:e})=>{Number.isNaN(e)||(c(e),p(e,u))}})),i.a.createElement(s.d,{width:"50%",marginStart:2},i.a.createElement(s.L,{size:"lg",id:"minutes",name:"minutes",placeholder:o.a._("Minutes","storyboard.detailsList.recipe","Placeholder caption for minutes input in story pin recipe cooktime"),value:u,options:g,onChange:({value:e})=>{Number.isNaN(e)||(h(e),p(d,e))}})))}},"5S2N":function(e,t,a){var n=a("q1tI"),i=a.n(n),o=a("/MKj"),r=a("9WJf"),s=a("BkRI"),l=a.n(s),d=a("/mzO"),c=a("JW66"),u=a("eOdZ"),h=a("5FNA"),p=a("Wer7");var m=a("Sihc"),g=a("Y+p1"),b=a.n(g),f=a("Ye/N"),y=a("TiQD"),E=a("GBVV"),_=a("4cpq"),C=a("CvCA"),v=a("nGHF"),S=a("n6mq");function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const k=Object(v.c)(class extends i.a.PureComponent{constructor(...e){super(...e),w(this,"state",{deleting:!1}),w(this,"unmounted",!1),w(this,"handleConfirm",()=>{if(this.state.deleting)return;const{onDeletePin:e}=this.props;this.setState({deleting:!0}),e().then(()=>this.handleDeleteDidComplete()).catch(e=>this.handleDeleteDidComplete(e))}),w(this,"handleDeleteDidComplete",e=>{const{toastManagerContext:t}=this.props;this.unmounted||this.setState({deleting:!1}),e||t.showToast(({onHide:e})=>i.a.createElement(C.a,{onHide:e,text:f.a._("Pin deleted!","User deleted their pin","User deleted their pin")}))})}componentWillUnmount(){this.unmounted=!0}render(){const{onDismiss:e}=this.props,{deleting:t}=this.state;return i.a.createElement(y.b,{heading:f.a._("Are you sure?","Confirm the user wants to delete the pin","Confirm the user wants to delete the pin"),accessibilityModalLabel:f.a._("Are you sure you want to delete this pin?","Accessible label to confirm the user wants to delete the pin","Accessible label to confirm the user wants to delete the pin"),size:"sm",onDismiss:e,footer:i.a.createElement(S.d,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1},i.a.createElement(S.d,{paddingX:1},i.a.createElement(S.e,{onClick:e,text:f.a._("Cancel")})),i.a.createElement(S.d,{paddingX:1},i.a.createElement(_.a,{id:"confirm-delete-pin"},i.a.createElement(E.b,{color:"red",onClick:this.handleConfirm,text:f.a._("Delete Pin"),submitting:t}))))},i.a.createElement(S.d,{padding:4},i.a.createElement(S.T,null,f.a._("Once you delete a Pin, you can't undo it!"))))}});k.displayName="DeletePinConfirmation";var x=k,P=a("V711");function M({board:e={},canEdit:t,onBoardChange:a,onBoardCreate:n}){return i.a.createElement(S.d,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3},i.a.createElement(S.d,{column:12,mdColumn:3,paddingY:2},i.a.createElement(S.v,{htmlFor:"BoardPicker"},i.a.createElement(S.T,{size:"md"},f.a._("Board")))),t?i.a.createElement(S.d,{column:12,mdColumn:8},i.a.createElement(P.a,{id:"BoardPicker",board:e,onBoardChosen:a,onBoardCreate:n})):e.name&&i.a.createElement(S.d,{column:12,mdColumn:8,paddingY:2},i.a.createElement(S.T,{size:"md",weight:"bold"},e.name)))}var I=a("TSYQ"),D=a.n(I),T=a("JKZO"),B=a("Q7uW"),j=a("/5zs"),L=a("U4JR"),O=a("pLLR");function R(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const N=4;var F=Object(O.e)(class extends i.a.Component{constructor(...e){super(...e),R(this,"state",{focused:!1}),R(this,"suggestionAnchorRef",i.a.createRef()),R(this,"setRef",e=>this.textAreaRef=e),R(this,"handleBlur",e=>{this.setState({focused:!1});const{onBlur:t}=this.props;t&&t(e)}),R(this,"handleFocus",e=>{this.setState({focused:!0});const{onFocus:t}=this.props;t&&t(e)}),R(this,"handleChange",({text:e,mentions:t})=>{this.props.onDescriptionChange({value:e,userMentionTags:t})})}render(){const{canAddUserMentionTags:e,canEdit:t,description:a,errorMessage:n,initialMentions:o,label:r,placeholder:s,onDescriptionChange:l,requestContext:d}=this.props,{focused:c}=this.state,u=new j.c(d,"cp_mention_web").enabled();return i.a.createElement(i.a.Fragment,null,i.a.createElement(S.n,null),i.a.createElement(S.d,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3},i.a.createElement(S.d,{column:12,mdColumn:3,paddingY:2},i.a.createElement(S.v,{htmlFor:"DescriptionField"},i.a.createElement(S.T,{size:"md"},r))),t?i.a.createElement(S.d,{column:12,mdColumn:8},i.a.createElement(S.d,null,u&&e?i.a.createElement("div",{className:D()("DescriptionField",{DescriptionField__error:!!n,DescriptionField__focus:c}),id:"DescriptionField",ref:this.suggestionAnchorRef,role:"textbox"},i.a.createElement(T.a,{onAddMention:()=>{Object(L.a)(8905,{element:116,tag_type:1})},initialMentions:o,initialText:a,onBlur:this.handleBlur,onChange:this.handleChange,onFocus:this.handleFocus,onSearchMentionCancel:()=>{Object(L.a)(8908,{element:116,tag_type:1})},onSuggestionsPopoverOpen:()=>{Object(L.a)(8907,{element:116,tag_type:1})},maxSuggestions:N,placeholder:s})):i.a.createElement(S.U,{id:"DescriptionField",placeholder:s,value:a,onChange:({value:e})=>{l({value:e,userMentionTags:[]})},hasError:(n||"").length>0})),!!n&&i.a.createElement(S.d,{justifyContent:"center"},i.a.createElement(B.a,{errorMessage:n,htmlFor:"pin-edit-description"}))):i.a.createElement(S.d,{column:12,mdColumn:8,paddingY:2},i.a.createElement(S.T,{size:"md",weight:"bold"},a))))}}),A=a("VJm5"),U=a("rSLd"),z=a("xOLo");function H({isCarousel:e,onMouseEnter:t,onMouseLeave:a,shouldShowCarouselSliders:n,onCarouselSlide:o,currentIndex:r,carouselData:s,pinId:l,description:d,image:c={}}){return i.a.createElement(S.d,{paddingX:4,paddingY:3,justifyContent:"center",direction:"column"},e&&(()=>{const e=s&&s.carousel_slots&&s.carousel_slots.length||1;return e>=2&&i.a.createElement(S.d,{direction:"row",padding:2},i.a.createElement(S.v,{htmlFor:"CardsIndex"},i.a.createElement(S.T,{size:"md"},r+1,"/",e)))})(),i.a.createElement(S.z,{width:236},i.a.createElement(S.d,{onMouseEnter:t,onMouseLeave:a},i.a.createElement(S.z,{rounding:2,wash:!0},e&&n&&i.a.createElement(S.d,{width:"100%",height:"100%",display:"inlineBlock",position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:10,background:"rgba(0, 0, 0, 0.3)"}}},i.a.createElement(z.default,{handleCarouselSwipe:o,carouselIndex:r,carouselData:s,pinId:l,isEditMode:!0})),e?i.a.createElement(A.a,{carouselIndex:r,isCloseup:!1,carouselData:s,pinId:l,isEditMode:!0}):i.a.createElement(S.u,{alt:d,color:"#efefef",naturalHeight:c.height,src:c.url,naturalWidth:c.width})),e&&i.a.createElement(U.default,{carouselIndex:r,carouselData:s,pinId:l,handleCarouselSwipe:o,isEditMode:!0,variant:"legacy"}))))}function Y({apiErrorMessage:e,shouldShowGenericUpdateError:t,onClickDeleteButton:a,disableDelete:n,onHide:o,shouldDisableSave:r,triggerBoardAndSectionCreate:s}){return i.a.createElement(S.d,{display:"flex",justifyContent:"between",marginStart:-1,marginEnd:-1},i.a.createElement(_.a,{id:"delete-pin-button"},i.a.createElement(S.e,{text:f.a._("Delete","EditPinModal.EditPinFooter.Delete","delete pin"),onClick:a,disabled:n})),t&&i.a.createElement(S.d,{display:"flex",marginStart:2,marginTop:2,justifyContent:"center"},i.a.createElement(B.a,{errorMessage:e||f.a._("Sorry! There was an error editing your Pin.","EditPinModal.EditPinFooter.ErrorMessageToast","Toast for pin edit error"),htmlFor:"pin-edit-generic-error"})),i.a.createElement(S.d,{display:"flex",justifyContent:"between",marginStart:-2,marginEnd:-2},i.a.createElement(S.d,{paddingX:2},i.a.createElement(S.e,{text:f.a._("Cancel","EditPinModal.EditPinFooter.Cancel","cancel changes"),onClick:o})),i.a.createElement(S.d,{paddingX:2,"data-test-id":"edit-pin-save"},i.a.createElement(S.e,{text:f.a._("Save","EditPinModal.EditPinFooter.Save","save changes"),color:"red",onClick:s,disabled:r}))))}var V=a("NXrh");function Q({board:e,canEdit:t,currentSection:a,onSectionChange:n,onSectionCreate:o,sectionId:r,sectionName:s}){const l=(null==e?void 0:e.id)?V.b:V.a;return i.a.createElement(S.d,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3},i.a.createElement(S.d,{column:12,mdColumn:3,paddingY:3},i.a.createElement(S.v,{htmlFor:"SectionPicker"},i.a.createElement(S.T,{size:"md"},f.a._("Section","label for editing a Pin's board section","label for editing a Pin's board section")))),t&&e?i.a.createElement(S.d,{column:12,mdColumn:8},i.a.createElement(l,{board:e,onSectionChange:n,selectedSectionId:r,selectedSectionName:s,onSectionCreate:o})):i.a.createElement(S.d,{column:12,mdColumn:8,paddingY:2},i.a.createElement(S.T,{size:"md",weight:"bold"},a&&!(e||{}).is_collaborative?a.title:f.a._("No section","default dropdown option for selecting a board section on pin edit","default dropdown option for selecting a board section on pin edit"))))}var q=a("8Enz"),W=a("kT2/"),X=a("6HHy"),G=a("1RGD");function K({keyValueBlocks:e,listBlocks:t,onUpdateKeyValueBlock:a,onUpdateListBlocks:n,templateType:o}){return i.a.createElement(S.d,null,Object.keys(e).map((t,n)=>{switch(parseInt(t,10)){case 0:return i.a.createElement(S.d,{key:`cooktime-${n}`,paddingY:2},i.a.createElement(S.T,{size:"md"},f.a._("Cook time","editModal.editStoryPinModal.details.cookTime","Label for cook time detail")),i.a.createElement(S.d,{paddingY:2},i.a.createElement(G.a,{onUpdate:e=>a(t,e),value:e[t]})));case 1:return i.a.createElement(S.d,{key:`serving-${n}`,paddingY:2},i.a.createElement(S.T,{size:"md"},f.a._("Servings","editModal.editStoryPinModal.details.servings","Label for serving size detail")),i.a.createElement(S.d,{paddingY:2},i.a.createElement(X.a,{showLabel:!1,onUpdate:e=>a(t,e),value:e[t]})));case 2:return i.a.createElement(S.d,{key:`difficulty-${n}`,paddingY:2},i.a.createElement(S.T,{size:"md"},f.a._("Difficulty","editModal.editStoryPinModal.details.difficulty","Label for difficulty level detail")),i.a.createElement(S.d,{paddingY:2},i.a.createElement(q.a,{showLabel:!1,onUpdate:e=>a(t,e),value:e[t]})));default:return null}}),t.length>0?i.a.createElement(S.d,{paddingY:2},i.a.createElement(S.T,{size:"md"},(()=>{switch(o){case 1:return f.a._("Ingredients","editModal.editStoryPinModal.listHeading","Heading for an ingredients list");case 2:return f.a._("Supplies","editModal.editStoryPinModal.listHeading","Heading for a supplies list");default:return f.a._("What they'll need","editModal.editStoryPinModal.listHeading","Heading for a generic list")}})()),i.a.createElement(S.d,{paddingY:2},i.a.createElement(W.a,{listBlocks:t,onUpdate:n}))):null)}var J=a("lUXN"),$=a("fAMq"),Z=a("Joxa");var ee=a("vvax"),te=a("MNxV");const ae=500,ne=504,ie=300,oe=120,re=14;var se=Object(o.connect)(()=>({}),e=>({completeResourceFetch:t=>e(Object(p.b)("PinResource",{field_set_key:"detailed",id:t.id},t)),invalidatePin:t=>e(Object(p.f)("PinResource",{field_set_key:"detailed",id:t}))}))((function({apiErrorMessage:e,board:t,completeResourceFetch:a,commentsDisabled:o,description:r,disableDelete:s,invalidatePin:l,isLoadingPin:c,isProcessing:h,onChangeBoard:p,onChangeComment:m,onChangePhoto:g,onChangeSection:b,onClickBoardCreate:E,onClickDeleteButton:_,onClickEditPages:C,onClickSectionCreate:v,onHide:w,photosDisabled:k,pinResource:x,sectionId:M,sectionName:I,title:D,triggerBoardAndSectionCreate:T}){var j,L;const O=null!==(j=x.data)&&void 0!==j?j:{},R=O.story_pin_data,N=null!==(L=O.images&&O.images["474x"])&&void 0!==L?L:{},[F,A]=Object(n.useState)(!1),[U,z]=Object(n.useState)(null),[H,Y]=Object(n.useState)(!1),[Q,q]=Object(n.useState)({}),[W,X]=Object(n.useState)([]);Object(n.useEffect)(()=>{const e=(null==R?void 0:R.metadata.basics)||null;if(e){const t=Object(Z.b)(e);q(t.keyValueBlocks||{}),X(t.listBlocks||[])}},[R]),Object(n.useEffect)(()=>{e&&z(e)},[e]);const G=(e,t)=>{q({...Q,[e]:t}),A(!0)},se=e=>{X(e),A(!0)},le=O.created_at?new Date(O.created_at):null,de=le&&Object($.c)(le,re),ce=!!de&&new Date<de,ue=W.length>0||Object.keys(Q).length>0,he=Object(ee.b)(f.a._("Edit details and add, delete, or reorder pages up to {{ numDays }} days after your Story Pin is published. Edit the board and engagement settings any time.","editModal.editStoryPinModal.editTimeInformation","Let the user know how the edit settings are limited"),{numDays:re});return i.a.createElement(y.b,{accessibilityModalLabel:f.a._("Edit your previously saved pin","editModal.editStoryPinModal.accessibilityLabel","Accessible label for edit previously saved story pin modal"),footer:i.a.createElement(S.d,{display:"flex",justifyContent:"between"},i.a.createElement(S.d,{"data-test-id":"delete-pin-button"},i.a.createElement(S.e,{color:"white",disabled:s,onClick:_,size:"lg",text:f.a._("Delete","editModal.editStoryPinModal.deleteButton","Delete button for previously saved story pin")})),!!U&&i.a.createElement(S.d,{display:"flex",justifyContent:"center"},i.a.createElement(B.a,{errorMessage:U,htmlFor:"pin-edit-generic-error"})),i.a.createElement(S.d,{display:"flex",justifyContent:"between",marginEnd:-1,marginStart:-1},i.a.createElement(S.d,{paddingX:1},i.a.createElement(S.e,{onClick:w,size:"lg",text:f.a._("Cancel","editModal.editStoryPinModal.cancelButton","Cancel button to not save edits to previously saved story pin")})),i.a.createElement(S.d,{"data-test-id":"edit-pin-save",paddingX:1},i.a.createElement(S.e,{color:"red",onClick:()=>{if(F&&R){Y(!0);const e=Object(Z.c)({keyValueBlocks:Q,listBlocks:W}),t=function(e){return{metadata:{basics:e.metadata.basics?Object(Z.a)(e.metadata.basics):void 0,diy_data:e.metadata.diy_data,pin_image_signature:e.metadata.pin_image_signature,pin_title:e.metadata.pin_title,recipe_data:e.metadata.recipe_data,template_type:e.metadata.template_type},pages:(t=e.pages,t.map(e=>{var t;const a=e.blocks.map(e=>{switch(e.type){case"story_pin_paragraph_block":return{block_style:e.block_style,style:e.style,text:e.text,type:0};case"story_pin_heading_block":return{block_style:e.block_style,level:e.level,style:e.style,text:e.text,type:1};case"story_pin_image_block":return{block_style:e.block_style,image_signature:e.image_signature,tracking_id:e.tracking_id,type:2};case"story_pin_video_block":return{block_style:e.block_style,tracking_id:e.tracking_id,type:3,video_signature:e.video_signature};default:return null}}).filter(Boolean);return a.length>0?{blocks:a,layout:e.layout,style:(null===(t=e.style)||void 0===t?void 0:t.background_color)?{background_color:e.style.background_color}:void 0}:null}).filter(Boolean))};var t}(R),n={...t,metadata:{...t.metadata,basics:e}},i={pin_id:O.id,story_pin:JSON.stringify(n)};u.a.create("StoryPinEditResource",i).callUpdate().then(e=>{const{resource_response:t}=e;l(O.id),a(t.data),T()}).catch(e=>{z(e.message),Y(!1)})}else T()},size:"lg",text:f.a._("Done","editModal.editStoryPinModal.doneButton","Done button to save edits to previously saved story pin")})))),heading:f.a._("Edit Pin","editModal.editStoryPinModal.heading","Edit a previously saved story pin"),onDismiss:w,size:"md"},c||!x.isLoaded||H||h?i.a.createElement(S.d,{paddingX:12,paddingY:9},i.a.createElement(S.M,{accessibilityLabel:f.a._("Loading edit information","editPinModal.editStoryPinModal.spinner","Accessible label for the edit pin loading icon"),show:!0})):i.a.createElement(S.d,{overflow:"hidden"},i.a.createElement(S.d,{marginEnd:-4,marginStart:-4},i.a.createElement(J.a,{name:"web_story_pin_limit_edits"},({anyEnabled:e})=>{var a;return i.a.createElement(S.d,{display:"flex",minHeight:ie,overflow:"hidden",paddingX:8},i.a.createElement(S.d,{alignItems:"center",direction:"column",display:"flex",flex:"shrink",paddingX:4},i.a.createElement(S.z,{wash:!0,rounding:4,width:oe},i.a.createElement(S.u,{alt:r,color:"#efefef",naturalHeight:N.height,naturalWidth:N.width,src:N.url}),i.a.createElement(S.d,{position:"absolute",left:!0,top:!0,padding:2},i.a.createElement(S.d,{alignItems:"center",color:"lightGray",display:"flex",justifyContent:"center",opacity:.8,padding:2,rounding:"pill"},i.a.createElement(S.s,{accessibilityLabel:f.a._("Story Pin icon","editModal.editStoryPinModal.storyPinIndicator","Story Pin icon indicator"),color:"darkGray",icon:"story-pin",size:12}),i.a.createElement(S.d,{marginStart:1},i.a.createElement(S.T,{size:"md",weight:"bold"},null===(a=O.story_pin_data)||void 0===a?void 0:a.page_count))))),i.a.createElement(S.d,{"data-test-id":"edit-pages-button",paddingY:2},i.a.createElement(S.e,{inline:!0,disabled:e&&!ce,onClick:C,text:f.a._("Edit Pages","editModal.editStoryPinModal.editPagesButton","Edit pages label for story pin creation entry point")}))),i.a.createElement(S.d,{direction:"column",display:"flex",flex:"grow",paddingX:4},i.a.createElement(S.d,{marginBottom:-2,marginTop:-2},i.a.createElement(S.d,{maxHeight:ae,overflow:"auto",paddingX:1},i.a.createElement(S.d,{maxWidth:ne},e&&de&&i.a.createElement(S.d,{paddingY:2},ce?i.a.createElement(i.a.Fragment,null,i.a.createElement(S.T,{size:"md"},Object(ee.b)(f.a._("Edit until {{ editDate }}","editModal.editStoryPinModal.lastEditableDate","Let user know the last date this Pin can be edited on"),{editDate:i.a.createElement(te.b,{dateFormatType:te.a.NUMERIC,key:`noEditsTwoWeeksAfter-${O.created_at}`,useUTC:!1,value:de})})),i.a.createElement(S.d,{paddingY:2},i.a.createElement(S.T,{color:"gray",size:"md"},he))):i.a.createElement(S.T,{color:"gray",size:"md"},he)),i.a.createElement(S.d,{paddingY:2},i.a.createElement(S.T,{size:"md"},f.a._("Title","editModal.editStoryPinModal.titleLabel","Label for form input where users will input the title of their pin")),i.a.createElement(S.d,{paddingY:2},i.a.createElement(S.d,{alignItems:"center",color:"lightGray",display:"flex",justifyContent:"between",padding:4,rounding:4},i.a.createElement(S.T,{color:"gray",truncate:!0},D||""),i.a.createElement(S.s,{accessibilityLabel:f.a._("Lock","editModal.editStoryPinModal.lockIcon.accessibilityLabel","Label for the lock icon to show that editing a story pin title is locked"),color:"darkGray",icon:"lock"})))),i.a.createElement(S.d,{paddingY:2},i.a.createElement(S.T,{size:"md"},f.a._("Board","editModal.editStoryPinModal.boardLabel","Label for dropdown where users will choose their board")),i.a.createElement(S.d,{paddingY:2},i.a.createElement(P.a,{board:t,id:"BoardPicker",isStoryPin:!0,onBoardChosen:p,onBoardCreate:E}))),i.a.createElement(S.d,{paddingY:2},i.a.createElement(S.T,{size:"md"},f.a._("Section","editModal.editStoryPinModal.sectionLabel","Label for dropdown where users will choose their section")),i.a.createElement(S.d,{paddingY:2},(null==t?void 0:t.id)&&i.a.createElement(V.b,{isStoryPin:!0,board:t,onSectionChange:b,onSectionCreate:v,selectedSectionId:M,selectedSectionName:I}))),e&&ue&&ce&&i.a.createElement(K,{keyValueBlocks:Q,listBlocks:W,onUpdateKeyValueBlock:G,onUpdateListBlocks:se,templateType:null==R?void 0:R.metadata.template_type}),O.can_delete_did_it_and_comments&&i.a.createElement(S.d,{paddingY:2},i.a.createElement(S.T,{size:"md"},f.a._("Comments and Photos Permissions","editModal.editStoryPinModal.commentsAndPhotosPermissionsLabel","Label for dropdown where users can toggle off permissions for comments and photos")),i.a.createElement(S.d,{paddingY:2},i.a.createElement(d.a,{isNoTitle:!0,commentsDisabled:o,onCommentChange:m,onPhotoChange:g,photosDisabled:k}))))))))}))))}));function le({canEdit:e,onTitleChange:t,title:a,errorMessage:n}){return i.a.createElement(i.a.Fragment,null,i.a.createElement(S.n,null),i.a.createElement(S.d,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3},i.a.createElement(S.d,{column:12,mdColumn:3,paddingY:2},i.a.createElement(S.v,{htmlFor:"TitleField"},i.a.createElement(S.T,{size:"md"},f.a._("Title","Label for editing title of pin","Label for editing title of pin")))),i.a.createElement(S.d,{column:12,mdColumn:8},e?i.a.createElement(i.a.Fragment,null,i.a.createElement(S.d,null,i.a.createElement(S.V,{hasError:(n||"").length>0,id:"TitleField",onChange:t,size:"lg",value:a})),!!n&&i.a.createElement(S.d,{justifyContent:"center"},i.a.createElement(B.a,{errorMessage:n,htmlFor:"pin-edit-title"}))):i.a.createElement(S.d,{column:12,mdColumn:8,paddingY:2},i.a.createElement(S.T,{size:"md",weight:"bold"},a)))))}function de({onChangeWebsite:e,link:t,errorMessage:a}){return i.a.createElement(i.a.Fragment,null,i.a.createElement(S.n,null),i.a.createElement(S.d,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3},i.a.createElement(S.d,{column:12,mdColumn:3,paddingY:2},i.a.createElement(S.v,{htmlFor:"WebsiteField"},i.a.createElement(S.T,{size:"md"},f.a._("Website")))),i.a.createElement(S.d,{column:12,mdColumn:8},i.a.createElement(S.d,null,i.a.createElement(S.V,{hasError:(a||"").length>0,id:"WebsiteField",onChange:e,size:"lg",value:t})),!!a&&i.a.createElement(S.d,{justifyContent:"center"},i.a.createElement(B.a,{errorMessage:a,htmlFor:"pin-edit-website"})))))}var ce=a("TN0d"),ue=a("NqRL"),he=a("Wrea"),pe=a("ZVWG"),me=a("bo/h"),ge=a("NjDU"),be=a("zLLH"),fe=a("C0mq"),ye=a("eIuQ"),Ee=a("ANjH"),_e=a("guDk"),Ce=a("c50B"),ve=a("VqlB");function Se(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function we(e){return Boolean(e&&e.trim().length)}function ke(e,t){const a=we(e),n=we(t);return(a||n)&&e!==t}const xe=(e,t)=>({field_set_key:"detailed",id:e,preserve_component_state:t});t.a=Object(Ee.compose)(fe.a,Object(be.c)({key:"pinResource",name:"PinResource",options:e=>xe(e.pinId,!0)}),O.e,v.c,Object(o.connect)((function(e,t){const{advertiser:a,viewer:n}=e;return n.isAuth&&a?{advertiser_id:a.id,...a.owner_user_id!==n.id?{advertiserOwnerUserId:a.owner_user_id,adminModeInfo:a.admin_mode_info}:{},viewer:n}:{viewer:n}}),e=>({invalidatePinResource:t=>e(Object(p.f)("PinResource",xe(t,!0))),changeBoardPinCount:t=>e(Object(he.d)(t)),changeUserPinCount:t=>e(Object(ge.b)(t)),completeResourceFetch:t=>e(Object(p.b)("PinResource",xe(t.id,!1),t)),pinMoved:Object(Ee.bindActionCreators)(ve.b,e)})))(class extends n.Component{constructor(...e){super(...e),Se(this,"state",{board:this.props.pinResource.data&&this.props.pinResource.data.board||null,commentsDisabled:this.props.pinResource.data&&this.props.pinResource.data.comments_disabled||!1,description:this.props.pinResource.data&&this.props.pinResource.data.description.trim()||"",apiErrorMessage:null,link:this.props.pinResource.data&&this.props.pinResource.data.link||"",photosDisabled:this.props.pinResource.data&&this.props.pinResource.data.did_it_disabled||!1,sectionId:this.props.pinResource.data&&this.props.pinResource.data.section&&this.props.pinResource.data.section.id||null,sectionName:this.props.pinResource.data&&this.props.pinResource.data.section&&this.props.pinResource.data.section.title||null,showDeleteConfirmation:!1,carousel_data:this.props.pinResource.data&&this.props.pinResource.data.carousel_data||null,title:this.props.pinResource.data&&this.props.pinResource.data.title||"",userNote:this.props.pinResource.data&&this.props.pinResource.data.unified_user_note&&this.props.pinResource.data.unified_user_note.trim()||"",isLoadingPin:!this.props.pinResource.isLoaded,isProcessing:!1,currentIndex:void 0!==this.props.carouselSlotCurrentIndex?this.props.carouselSlotCurrentIndex:this.props.pinResource.data&&this.props.pinResource.data.carousel_data&&this.props.pinResource.data.carousel_data.index||0,shouldApplyTextToAll:!1,shouldDisableSave:!1,shouldShowCarouselSliders:!1,shouldShowValidationTitleError:!1,shouldShowValidationDescriptionError:!1,shouldShowValidationLinkFormatError:!1,shouldShowGenericUpdateError:!1,shouldShowValidationUserMentionTagsError:!1,userMentionTags:this.props.pinResource.data&&this.props.pinResource.data.user_mention_tags||[]}),Se(this,"onClickDeleteButton",()=>this.setState({showDeleteConfirmation:!0})),Se(this,"onHideConfirmation",()=>this.setState({showDeleteConfirmation:!1})),Se(this,"updateCarouselSlotIndex",()=>{const{carouselSlotCurrentIndex:e}=this.props;this.setState({currentIndex:void 0!==e?e:this.props.pinResource.data&&this.props.pinResource.data.carousel_data&&this.props.pinResource.data.carousel_data.index||0})}),Se(this,"handleBoardChange",e=>{const{board:{id:t}}=this.state;e.id!==t&&this.setState({board:e,sectionId:null,sectionName:null})}),Se(this,"createBoard",e=>{const{board:t}=this.state;if(!t.id&&t.name&&e){const{dispatch:a}=this.props;a(function(e,t){const a={name:e,privacy:c.a.BoardPrivacy.PUBLIC};return e=>u.a.create("BoardResource",a).callCreate().then(a=>{const n=a.resource_response.data;return e(t.username&&Object(p.f)("BoardsResource",Object(h.a)(t.username,!1))),n})}(t.name,e)).then(e=>{if(this._isMounted){const{sectionId:t,sectionName:a}=this.state;!t&&a?(this.setState({board:e}),this.createSection()):(this.handleBoardChange(e),this.handleSave())}})}}),Se(this,"handleBoardCreateClick",e=>{if(!e)return;const t={name:e,privacy:c.a.BoardPrivacy.PUBLIC,access:"write"};this.setState({board:t,sectionId:null,sectionName:null})}),Se(this,"createSection",()=>{const{board:e,sectionName:t}=this.state;if(!t)return;if(!e.id)return void this.createBoard();const a={boardId:e.id,name:t},{dispatch:n}=this.props;n(Object(m.a)(a)).then(e=>{this._isMounted&&(this.setState({sectionId:e&&e.id||null,sectionName:e&&e.title||null}),this.handleSave())}).catch(e=>{const t=Object(_e.b)(e);e&&Object(_e.b)(e)&&this.showErrorToast(Object(_e.a)(e)||e.message),this.setState({shouldShowGenericUpdateError:!t,apiErrorMessage:t?e.message:null})})}),Se(this,"handleSectionCreateClick",e=>{if(0===e.length)return;const{board:t}=this.state;t&&this.setState({sectionId:null,sectionName:e})}),Se(this,"handleSectionChange",e=>this.setState({sectionId:e&&e.id||null,sectionName:e&&e.title||null,shouldShowGenericUpdateError:!1})),Se(this,"handleDeletePin",()=>{const{pinResource:{data:e},pinId:t,onDelete:a,onHide:n,changeBoardPinCount:i,changeUserPinCount:o,advertiser_id:r}=this.props,s={...r?{advertiser_id:r}:{},id:t};return u.a.create("PinResource",s).callDelete().then(()=>{if(this._isMounted){if(!e)return;const{board:{id:r},pinner:{id:s},section:l}=e;i({boardId:r,sectionId:l&&l.id||void 0,increment:-1}),o({userId:s,increment:-1}),ce.a.instance.publish(r,"pinDeleted",t),ce.a.instance.publish(s,"pinDeleted"),ce.a.instance.publish(t,"pinDeleted"),n(),a&&a()}})}),Se(this,"sanitizeCarouselData",e=>{let{carousel_data:t}=this.state;if(e&&(t=e),t){const{carousel_slots:e}=t;if(e){const t={carousel_slots:[]};return e.forEach(e=>{const a={};a.description=e.details||"",a.title=e.title||"",a.link=e.link||"",t.carousel_slots.push(a)}),t}}return null}),Se(this,"triggerBoardAndSectionCreate",e=>()=>{const{board:t,sectionId:a,sectionName:n}=this.state;!t.id&&t.name?this.createBoard(e):!a&&n?this.createSection():this.handleSave()}),Se(this,"logPinEditEvent",(e,t,a,n,i)=>{const o={},{pinId:r,view:s,viewParameter:l}=this.props,{userMentionTags:d}=this.state;if(o.objectId=r,o.num_user_mention_tags=d.length,e&&(o.board_was_modified=!0),!e&&t&&(o.board_section_was_modified=!0),a){const{description:e}=this.state,{description:t}=i;o.original_pin_description=t,o.edited_pin_description=e}if(n){const{carousel_data:e}=this.state,{carousel_data:t}=i;o.original_carousel_data=JSON.stringify(this.sanitizeCarouselData(t)),o.edited_carousel_data=JSON.stringify(this.sanitizeCarouselData(e))}Object(L.a)(2,{component:208,view:s,viewParameter:l,...o})}),Se(this,"handleSave",()=>{this.setState({apiErrorMessage:null,isProcessing:!0});const{advertiser_id:e,pinId:t,pinResource:{data:a},invalidatePinResource:n,completeResourceFetch:i,onHide:o}=this.props;if(!a)return;const{board:r,comments_disabled:s,did_it_disabled:l,title:d,description:c,link:h,section:p,carousel_data:m}=a,{carousel_data:g,shouldShowValidationLinkFormatError:f}=this.state;let y;if(g){const e=this.sanitizeCarouselData();e&&(y=JSON.stringify(e))}const{board:E,commentsDisabled:_,currentIndex:C,photosDisabled:v,title:S,description:w,sectionId:k,carousel_data:x,userMentionTags:P}=this.state,M=E||r,I=f?h:this.state.link,D={board_id:M.id,board_section_id:k,carousel_data_json:y,description:w,disable_comments:_,disable_did_it:v,id:t,link:I,title:S,user_mention_tags:JSON.stringify(P),...e?{advertiser_id:e}:{}},T=p&&p.id||null,B=M.id,j=r.id,L=j!==B,O=(Boolean(T)||Boolean(k))&&T!==k,R=ke(d,S),N=ke(c,w),F=ke(h,I),A=Boolean(x)&&Boolean(m)&&!b()(x,m);L||O||R||N||F||A||(s!==_||l!==v)?u.a.create("PinResource",D).callUpdate().then(({resource_response:e})=>{if(this._isMounted){const{changeBoardPinCount:t,onSubmit:r,pinId:s,pinMoved:l}=this.props;(L||O)&&B&&j&&(l({selectedPinIds:[s],source:{boardId:j,sectionId:T},target:{boardId:B,sectionId:k}}),t({boardId:B,sectionId:k||void 0,increment:1}),t({boardId:j,sectionId:T||void 0,increment:-1})),r&&B&&M.url&&r({boardId:B,title:M.name,sectionId:k,url:M.url}),o(),n(s);const{data:d}=e;d.carousel_data&&(d.carousel_data.index=C),i(d),this.logPinEditEvent(L,O,N,A,a)}}).catch(e=>{const t=Object(_e.b)(e);t&&this.showErrorToast(Object(_e.a)(e)||e.message);const{shouldShowValidationTitleError:a,shouldShowValidationDescriptionError:n,shouldShowValidationLinkFormatError:i}=this.state;this.setState({isProcessing:!1,shouldShowGenericUpdateError:!(t||a||n||i)})}):(o(),n(t)),this.setState({isProcessing:!1})}),Se(this,"handleTextChanges",(e,t)=>{const{carousel_data:a}=this.state;if(!a)return;const n=l()(a),{carousel_slots:i=[]}=n,{currentIndex:o,shouldApplyTextToAll:r,description:s,link:d,title:c}=this.state,u=this.valueIsValidForType(e,t);switch(r?i.forEach(a=>a[t]=e):i[o]&&(i[o][t]=e),t){case"details":const t=0===o?e:s;this.setState({description:t,carousel_data:n||null,shouldShowValidationDescriptionError:!u,shouldShowGenericUpdateError:!1});break;case"link":const a=0===o?e:d;this.setState({link:a,carousel_data:n||null,shouldShowValidationLinkFormatError:!u,shouldShowGenericUpdateError:!1});break;case"title":const i=0===o?e:c;this.setState({title:i,carousel_data:n||null,shouldShowValidationTitleError:!u,shouldShowGenericUpdateError:!1})}}),Se(this,"handleDescriptionChange",({value:e,userMentionTags:t})=>{const a=this.valueIsValidForType(e,"description"),n=this.valueIsValidForType(t,"userMentionTags");t.length<this.state.userMentionTags.length&&Object(L.a)(8906,{element:116,tag_type:1}),this.setState({description:e,userMentionTags:t,userNote:e,shouldShowValidationDescriptionError:!a,shouldShowValidationUserMentionTagsError:!n,shouldShowGenericUpdateError:!1})}),Se(this,"handleCarouselDetailsChange",({value:e})=>{this.handleTextChanges(e,"details")}),Se(this,"handleTitleChange",({value:e})=>{const t=this.valueIsValidForType(e,"title");this.setState({title:e,shouldShowValidationTitleError:!t,shouldShowGenericUpdateError:!1})}),Se(this,"handleCarouselTitleChange",({value:e})=>{this.handleTextChanges(e,"title")}),Se(this,"valueIsValidForType",(e,t)=>{switch(t){case"details":case"description":return e.length<=500;case"link":return e.length>=0&&0===Object(Ce.r)([Object(Ce.q)({message:f.a._("Not a valid url.","Validation error for an improperly formated url","Validation error for an improperly formated url")})],e).length;case"title":return e.length<=100;case"userMentionTags":return e.length<=5;default:return!0}}),Se(this,"handleWebsiteChange",({value:e})=>{const t=this.valueIsValidForType(e,"link");this.setState({link:e,shouldDisableSave:!t,shouldShowValidationLinkFormatError:!t,shouldShowGenericUpdateError:!1})}),Se(this,"handleCarouselWebsiteChange",({value:e})=>{this.handleTextChanges(e,"link")}),Se(this,"handleCommentChange",e=>this.setState({commentsDisabled:!e.value})),Se(this,"handlePhotoChange",e=>this.setState({photosDisabled:!e.value})),Se(this,"handleShouldApplyToAll",e=>{if(e){const{currentIndex:t,carousel_data:a}=this.state;if(!a)return;const n=l()(a),{carousel_slots:i}=n,{details:o,link:r,title:s}=i[t];i.forEach(e=>{e.details=o,e.title=s,e.link=r}),this.setState({carousel_data:n,shouldApplyTextToAll:e})}else this.setState({shouldApplyTextToAll:e})}),Se(this,"handleCarouselSlider",e=>{const{carousel_data:t}=this.state,a=t&&t.carousel_slots&&t.carousel_slots.length||1;e>=0&&e<a&&this.setState({currentIndex:e})}),Se(this,"handleClickStoryPinPages",()=>{const{pinResource:{data:e},history:t}=this.props;e&&t.push(`/story-pin-builder/${e.id}/edit`)}),Se(this,"handleMouseEnter",()=>{this.setState({shouldShowCarouselSliders:!0})}),Se(this,"handleMouseLeave",()=>{this.setState({shouldShowCarouselSliders:!1})})}componentDidMount(){this._isMounted=!0,this.updateCarouselSlotIndex()}componentDidUpdate(e){const{pinResource:{data:t,isLoaded:a},carouselSlotCurrentIndex:n}=this.props;t&&a!==e.pinResource.isLoaded&&this.setState({board:t.board,commentsDisabled:t.comments_disabled,description:t.description&&t.description.trim(),isLoadingPin:!1,link:t.link,photosDisabled:t.did_it_disabled,sectionId:(t.section||{}).id,sectionName:(t.section||{}).title,title:t.title,userNote:t.unified_user_note,carousel_data:t.carousel_data,currentIndex:void 0!==n?n:t.carousel_data&&t.carousel_data.index||0,shouldApplyTextToAll:!1,userMentionTags:t.user_mention_tags||[]})}componentWillUnmount(){this._isMounted=!1}showErrorToast(e){this.props.toastManagerContext.showOneToast(({onHide:t})=>i.a.createElement(C.a,{color:"red",duration:5e3,onHide:t,text:e}))}getCurrentUserId(e){const{adminModeInfo:t,advertiserOwnerUserId:a}=this.props;return t&&t.version===ue.a?a:e.isAuth?e.id:""}render(){const{disableDelete:e,onHide:t,pinResource:a,pinId:n,requestContext:o,adminModeInfo:s,viewer:l}=this.props,{apiErrorMessage:c,board:u,commentsDisabled:h,description:p,link:m,photosDisabled:g,sectionId:b,sectionName:E,showDeleteConfirmation:_,title:C,userNote:v,isLoadingPin:w,isProcessing:k,carousel_data:P,shouldApplyTextToAll:I,currentIndex:D,shouldDisableSave:T,shouldShowCarouselSliders:B,shouldShowValidationTitleError:L,shouldShowValidationDescriptionError:O,shouldShowValidationLinkFormatError:R,shouldShowGenericUpdateError:N,shouldShowValidationUserMentionTagsError:A,userMentionTags:U}=this.state;if(_)return i.a.createElement(x,{onDeletePin:this.handleDeletePin,onDismiss:this.onHideConfirmation});const z=a.data||{},V=!!(P&&P.carousel_slots&&P.carousel_slots.length>1),q=P&&P.carousel_slots&&P.carousel_slots.length>0&&P.carousel_slots[D]||{},{details:W="",link:X="",title:G=""}=q,K=(null==s?void 0:s.version)===ue.a&&!(null==s?void 0:s.writeMode),J=!!(z&&z.story_pin_data_id&&z.story_pin_data),$=z&&(z.access||[]).includes("write")||this.props.canEdit||!!u&&Object(r.a)({action:4,board:u}),Z=e=>{const t=this.getCurrentUserId(e),a=this.props.canEdit&&this.props.advertiserOwnerUserId?this.props.advertiserOwnerUserId:t;return $&&!z.is_repin&&!K&&!(z.aggregated_pin_data&&z.aggregated_pin_data.is_shop_the_look)&&!J&&(V||!P)&&(z.native_creator&&z.native_creator.id===a||V&&z.pinner&&z.pinner.id===a||z.link_domain&&z.link_domain.official_user&&z.link_domain.official_user.id===a||!!z.domain&&z.pinner&&z.pinner.id===a&&z.pinner.domain_url&&z.pinner.domain_url.includes(z.domain))},ee=e=>!Z(e),te=z&&z.images&&z.images["474x"]||{},ae=new j.c(o,"web_story_pin_creator").enabledWithNoActivation(),ne=z.story_pin_data&&z.story_pin_data.metadata&&z.story_pin_data.metadata.version?Object(pe.a)(z.story_pin_data.metadata.version,me.a):null,ie=null!=ne&&ne>=0,oe=!!z.story_pin_data&&!!z.story_pin_data.metadata&&!!z.story_pin_data.metadata.is_editable&&z.native_creator&&z.native_creator.id===this.getCurrentUserId(l);if(J&&ae&&ie&&oe)return i.a.createElement(se,{apiErrorMessage:c,board:u,commentsDisabled:h,description:p,disableDelete:e,isLoadingPin:w,isProcessing:k,onChangeBoard:this.handleBoardChange,onChangeComment:this.handleCommentChange,onChangePhoto:this.handlePhotoChange,onChangeSection:this.handleSectionChange,onClickBoardCreate:this.handleBoardCreateClick,onClickDeleteButton:this.onClickDeleteButton,onClickEditPages:this.handleClickStoryPinPages,onClickSectionCreate:this.handleSectionCreateClick,onHide:t,photosDisabled:g,pinResource:a,sectionId:b,sectionName:E,title:C,triggerBoardAndSectionCreate:this.triggerBoardAndSectionCreate(l)});const re=ee(l)?null:i.a.createElement(le,{canEdit:$,onTitleChange:V?this.handleCarouselTitleChange:this.handleTitleChange,title:V?G:C,errorMessage:L?Object(ye.b)(V):""}),ce=$||l.isAuth&&(z.pinner||{}).id===l.id?i.a.createElement(F,{canAddUserMentionTags:!ee(l),canEdit:$,description:(e=>V?W:ee(e)?v:p)(l)||"",errorMessage:(e=>O?(e=>ee(e)?Object(ye.e)(V):Object(ye.a)(V))(e):A?Object(ye.d)(V):"")(l),initialMentions:U,label:ee(l)?f.a._("Note","Label for editing user note","Label for editing user note"):f.a._("Description","Label for editing description","Label for editing description"),placeholder:ee(l)?f.a._("Write a note about this Pin...","Placeholder for editing user note","Placeholder for editing user note"):f.a._("Tell us about this Pin...","Placeholder for editing description","Placeholder for editing description"),onDescriptionChange:V?this.handleCarouselDetailsChange:this.handleDescriptionChange}):null,he=Z(l)?i.a.createElement(de,{link:V?X:m,onChangeWebsite:V?this.handleCarouselWebsiteChange:this.handleWebsiteChange,errorMessage:R?Object(ye.c)(V):""}):null,ge=V?i.a.createElement(S.d,{display:"flex",justifyContent:"end",paddingX:4,paddingY:3,alignItems:"end"},i.a.createElement(S.d,{paddingY:2},i.a.createElement(S.v,{htmlFor:"applyTextToAll"},i.a.createElement(S.T,null,f.a._("Apply text to all","Apply title, description, link to all cards","Apply title, description, link to all cards")))),i.a.createElement(S.d,{paddingX:2,paddingY:2},i.a.createElement(S.P,{onChange:e=>this.handleShouldApplyToAll(e.value),id:"applyTextToAll",switched:I}))):null,be=z.can_delete_did_it_and_comments?i.a.createElement(d.a,{commentsDisabled:h,onCommentChange:this.handleCommentChange,onPhotoChange:this.handlePhotoChange,photosDisabled:g}):null;return i.a.createElement(y.b,{heading:f.a._("Edit this Pin","EditPinModal.ModalHeading.EditThisPin","Edit a previously saved pin"),accessibilityModalLabel:f.a._("Edit your previously saved pin","EditPinModal.ModalHeading.AccessibleLabel","Accessible label for edit previously saved pin modal"),size:"lg",onDismiss:t,footer:i.a.createElement(Y,{apiErrorMessage:c,shouldShowGenericUpdateError:N,onClickDeleteButton:this.onClickDeleteButton,disableDelete:e,onHide:t,shouldDisableSave:T,triggerBoardAndSectionCreate:this.triggerBoardAndSectionCreate(l)})},w||!a.isLoaded||k?i.a.createElement(S.d,{display:"flex",alignItems:"center",justifyContent:"center"},i.a.createElement(S.M,{accessibilityLabel:f.a._("loading","EditPinModal.LoadingPin.Spinner","Accessible label for the edit pin loading icon"),show:!0})):i.a.createElement(S.d,{display:"flex",justifyContent:"between",minHeight:350,paddingX:4},i.a.createElement(S.d,{column:12,mdColumn:9},i.a.createElement(M,{board:u||z.board,canEdit:$,onBoardChange:this.handleBoardChange,onBoardCreate:this.handleBoardCreateClick}),i.a.createElement(Q,{board:u||z.board,canEdit:$,onSectionCreate:this.handleSectionCreateClick,onSectionChange:this.handleSectionChange,sectionId:b,sectionName:E,currentSection:z.section}),re,ce,he,ge,be),i.a.createElement(H,{isCarousel:V,shouldShowCarouselSliders:B,onCarouselSlide:this.handleCarouselSlider,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,currentIndex:this.state.currentIndex,carouselData:this.state.carousel_data,pinId:n,description:p,image:te})))}})},"6HHy":function(e,t,a){a.d(t,"a",(function(){return d}));var n=a("q1tI"),i=a.n(n),o=a("Ye/N"),r=a("vvax"),s=a("n6mq");const l=50;function d({onUpdate:e,showLabel:t=!0,value:a}){const n=[];for(let i=1;i<=l;i+=1)n.push({value:String(i),label:Object(r.b)(o.a.ngettext("{{ servings }} serving","{{ servings }} servings",i,"storyboard.detailsList.field.servings","Option for number of servings a story pin recipe will provide"),{servings:i}).join("")});return i.a.createElement(s.d,{width:"100%",display:"flex"},i.a.createElement(s.d,{width:"100%",position:"relative"},i.a.createElement(s.L,{size:"lg",id:"servings",name:"servings",label:t?o.a._("Servings","storyboard.detailsList.field.servings","Header title for serving count entry for story pin recipe"):void 0,placeholder:o.a._("Pick an amount","storyboard.detailsList.recipe","Placeholder caption for servings count input in story pin recipe"),value:a,options:n,onChange:({value:t})=>{Number.isNaN(t)||e(t)}})))}},"8Enz":function(e,t,a){a.d(t,"a",(function(){return s}));var n=a("q1tI"),i=a.n(n),o=a("Ye/N"),r=a("n6mq");function s({onUpdate:e,showLabel:t=!0,value:a}){const n=[{label:o.a._("Easy","storyboard.detailsList.field.difficulty","Easy difficulty rating for story pin"),value:String(1)},{label:o.a._("Intermediate","storyboard.detailsList.field.difficulty","Medium difficulty rating for story pin"),value:String(2)},{label:o.a._("Expert","storyboard.detailsList.field.difficulty","Hard difficulty rating for story pin"),value:String(3)},{label:o.a._("Not applicable","storyboard.detailsList.field.difficulty","Difficulty rating does not apply for story pin"),value:String(0)}];return i.a.createElement(r.d,{width:"100%",display:"flex"},i.a.createElement(r.d,{width:"100%"},i.a.createElement(r.L,{size:"lg",id:"servings",name:"servings",label:t?o.a._("Difficulty","storyboard.detailsList.field.difficulty","Header title for difficulty rating entry for story pin"):void 0,placeholder:o.a._("Pick a difficulty rating","storyboard.detailsList.field","Placeholder caption for difficulty rating input in story pin"),value:a,options:n,onChange:({value:t})=>{Number.isNaN(t)||e(t)}})))}},Joxa:function(e,t,a){a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return r}));const n=[0,2,1];function i(e){const{list_blocks:t,key_value_blocks:a}=e,n=t&&t.length>0?t.map(e=>{const{heading:t,blocks:a}=e;return{heading:t,blocks:a.map(e=>({text:e.text,type:9})),type:7}}):[];return{key_value_blocks:a&&a.length>0?a.map(e=>({category_type:e.category_type,type:8,value:e.value})):[],list_blocks:n}}function o(e){const{list_blocks:t,key_value_blocks:a}=e,n=t&&t.length>0?t.map(e=>{const{heading:t,blocks:a}=e;return{heading:t,items:a.map(e=>e.text)}}):[];return{keyValueBlocks:a&&a.length>0?a.reduce((e,t)=>{const{category_type:a,value:n}=t;return e[a]=n,e},{}):{},listBlocks:n}}function r(e){const{keyValueBlocks:t,listBlocks:a}=e;return t||a?{list_blocks:a?a.map(e=>{const{heading:t,items:a}=e;let n=[];return a&&(n=a.map(e=>({text:e,type:9}))),{blocks:n,heading:t,type:7}}):[],key_value_blocks:(t?Object.keys(t).map(e=>{const a=t[e],i=Number.parseInt(e,10),o=n.indexOf(i)>-1&&a===Number.parseInt(a,10).toString();return a&&o?{value:a,category_type:i,type:8}:null}):[]).filter(Boolean)}:null}},NXrh:function(e,t,a){a.d(t,"a",(function(){return y}));var n=a("q1tI"),i=a.n(n),o=a("/MKj"),r=a("Sihc"),s=a("Ye/N"),l=a("rrvb"),d=a("ANjH"),c=a("0BOE"),u=a("jdx6"),h=a("qyR9"),p=a("zLLH"),m=a("n6mq");function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const b="NO_SECTION_VALUE";function f({section:e,hovered:t,searchQuery:a}){return i.a.createElement(m.d,null,i.a.createElement(m.d,{color:t?"lightGray":"white",display:"flex",padding:2,rounding:2},i.a.createElement(m.d,{flex:"grow"},i.a.createElement(m.T,{weight:"bold"},Object(u.b)(a,e.title)))),e.id===b&&i.a.createElement(m.n,null))}const y=class extends n.Component{constructor(...e){super(...e),g(this,"state",{searchQuery:""}),g(this,"getPickerSections",()=>{const{searchQuery:e}=this.state,{sectionsResource:t,mergingFromSectionId:a}=this.props;let n=t&&t.data||[];return n=a?n.filter(e=>e.id!==a):[{id:b,title:s.a._("No section","default dropdown option for selecting a board section on pin edit","default dropdown option for selecting a board section on pin edit")},...n],e.length>=h.a&&(n=Object(c.a)(n,e,"title")),[{items:n}]}),g(this,"createBtnDisabled",()=>{const{sectionsResource:e}=this.props,{searchQuery:t}=this.state;return!(!e||!e.data)&&e.data.some(e=>e.title.toLowerCase()===t.toLocaleLowerCase())}),g(this,"handleSectionCreate",()=>{const{board:e,onSectionChange:t,sectionsResource:a,dispatch:n,onSectionCreate:i}=this.props,{searchQuery:o}=this.state;i?i(o):n&&e.id&&n(Object(r.a)({boardId:e.id,name:o})).then(e=>{a&&a.refreshData(),this.setState({searchQuery:""}),t(e)})}),g(this,"handleSectionSelected",e=>{const{onSectionChange:t}=this.props;e.id===b?(t(null),this.setState({searchQuery:""})):(t(e),this.setState({searchQuery:""}))}),g(this,"handleSearchQueryUpdate",e=>{this.setState({searchQuery:e})}),g(this,"renderRow",({item:e,hovered:t})=>{const{searchQuery:a}=this.state;return i.a.createElement(f,{hovered:t,searchQuery:a,section:e})})}componentDidUpdate(e){const t=e.selectedSectionId,{selectedSectionId:a}=this.props;if(a!==t){const{sectionsResource:e}=this.props;e&&e.refreshData()}}render(){const{isStoryPin:e,sectionsResource:t,selectedSectionId:a,mergingFromSectionId:n,selectedSectionName:o}=this.props,{searchQuery:r}=this.state;let d=n?s.a._("Pick a section","default dropdown option for selecting a board section to merge to","default dropdown option for selecting a board section to merge to"):s.a._("No section","default dropdown option for selecting a board section on pin edit","default dropdown option for selecting a board section on pin edit");if(a){let e;t&&t.data&&(e=t.data.find(e=>e.id===a)),d=e&&e.title||d}else o&&(d=o);return i.a.createElement(m.d,null,i.a.createElement(m.M,{accessibilityLabel:s.a._("loading section picker","accessibility text for loading spinner","accessibility text for loading spinner"),show:!!t&&!t.isLoaded}),(!t||t&&t.isLoaded)&&i.a.createElement(l.a,{createBtnDisabled:this.createBtnDisabled(),dropdownValue:d,isStoryPin:e,onCreate:n?null:this.handleSectionCreate,onSearchQueryUpdate:this.handleSearchQueryUpdate,onSelect:this.handleSectionSelected,renderRow:this.renderRow,searchQuery:r,sections:this.getPickerSections()}))}};t.b=Object(d.compose)(Object(o.connect)(),Object(p.c)({name:"BoardSectionsRepinResource",key:"sectionsResource",options:e=>({board_id:e.board.id})},{allowStale:!1}))(y)},NqRL:function(e,t,a){a.d(t,"a",(function(){return n}));const n="v2"},Q7uW:function(e,t,a){a.d(t,"a",(function(){return r}));var n=a("q1tI"),i=a.n(n),o=a("n6mq");function r(e){const{htmlFor:t,errorMessage:a}=e;return i.a.createElement(o.v,{htmlFor:t},i.a.createElement(o.d,{marginTop:1},i.a.createElement(o.T,{color:"red",size:"md"},a)))}},V711:function(e,t,a){var n=a("q1tI"),i=a.n(n),o=a("/MKj"),r=a("8cMa"),s=a("JW66"),l=a("Ye/N"),d=a("rrvb"),c=a("zLLH"),u=a("0BOE"),h=a("jdx6"),p=a("Wer7"),m=a("qyR9"),g=a("n6mq"),b=a("ANjH"),f=a("oN2T");function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function E({board:e,hovered:t,searchQuery:a}){const n=e.privacy===s.a.BoardPrivacy.SECRET;return i.a.createElement(g.d,{color:t?"lightGray":"white",display:"flex",padding:2,rounding:2},i.a.createElement(g.d,{flex:"grow"},i.a.createElement(g.T,{weight:"bold"},Object(h.b)(a,e.name))),i.a.createElement(g.d,{direction:"row",display:"flex",flex:"none"},n&&i.a.createElement(r.a,{type:"secret"}),e.is_collaborative&&i.a.createElement(r.a,{type:"group"})))}t.a=Object(b.compose)(Object(o.connect)((function(e){const{advertiser:t,viewer:a}=e,n=a.isAuth&&t&&t.owner_user_id!==a.id;return{advertiser_id:n?t.id:null,username:n?t.owner_user_id:null,viewer:a}}),(function(e){return{invalidateBoardPickerBoardsResource:()=>{e(Object(p.f)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))},createBoard:t=>e(Object(f.g)(t))}})),Object(c.c)({name:"BoardPickerBoardsResource",key:"boardResource",options:e=>({pin_id:e.pinId,field_set_key:"board_picker",onlyFetchBoards:!0,username:e.username,...e.advertiser_id&&e.username?{advertiser_id:e.advertiser_id,filter:"protected",username:e.username}:{}})},{allowStale:!1}))(class extends n.Component{constructor(e){super(e),y(this,"getSections",()=>{const{searchQuery:e}=this.state,{boardResource:{data:{all_boards:t}}}=this.props;return e.length>=m.a?[{items:Object(u.a)(t,e)}]:[{items:t}]}),y(this,"createBtnDisabled",()=>{const{boardResource:{data:{all_boards:e}}}=this.props,{searchQuery:t}=this.state;return e.some(e=>e.name.toLowerCase()===t.toLowerCase())}),y(this,"handleBoardCreate",e=>()=>{const{searchQuery:e}=this.state;if(!e)return;const{createBoard:t,invalidateBoardPickerBoardsResource:a,onBoardCreate:n}=this.props;a(),n?n(e):t({name:e,privacy:"public"}).then(e=>{const{onBoardChosen:t}=this.props;t(e)})}),y(this,"handleBoardSelected",e=>{this.props.onBoardChosen(e),this.setState({selectedBoard:e})}),y(this,"handleSearchQueryUpdate",e=>{this.setState({searchQuery:e})}),y(this,"renderRow",({item:e,hovered:t})=>{const{searchQuery:a}=this.state;return i.a.createElement(E,{board:e,hovered:t,searchQuery:a})}),this.state={searchQuery:"",selectedBoard:e.board}}render(){const{boardResource:e,board:t,isStoryPin:a,viewer:n}=this.props,{searchQuery:o,selectedBoard:r}=this.state;let s=l.a._("Select a board","Label for selecting a board in Edit Pin Modal","Label for selecting a board in Edit Pin Modal");return t?s=t.name:r&&(s=r.name),i.a.createElement(g.d,null,i.a.createElement(g.M,{accessibilityLabel:l.a._("loading board picker","accessibility text for loading spinner","accessibility text for loading spinner"),show:!e.isLoaded}),e.data&&i.a.createElement(d.a,{createBtnDisabled:this.createBtnDisabled(),dropdownValue:s,isStoryPin:a,onCreate:this.handleBoardCreate(n),onSearchQueryUpdate:this.handleSearchQueryUpdate,onSelect:this.handleBoardSelected,renderRow:this.renderRow,searchQuery:o,sections:this.getSections()}))}})},dtqy:function(e,t,a){var n=a("q1tI"),i=a.n(n),o=a("/MKj"),r=a("qWlA"),s=a("5S2N"),l=a("ANjH"),d=a("U4JR");function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}t.a=Object(l.compose)(Object(o.connect)(({pins:e},{pinId:t,carouselSlotCurrentIndex:a})=>{const{carousel_data:n}=e&&t&&e[t]||{},{index:i}=n||{};return void 0!==a?{carouselSlotCurrentIndex:i||a||0}:{}}),(function(e){return class extends n.PureComponent{constructor(...e){super(...e),c(this,"state",{showEditModal:!1}),c(this,"onHide",()=>{this.setState({showEditModal:!1}),this.props.onToggleModal&&this.props.onToggleModal(!1)}),c(this,"handlePinEditButtonClick",Object(r.a)(e=>{e&&e.stopPropagation();const{component:t,onToggleModal:a}=this.props;a&&a(!0),Object(d.a)(101,{element:3,...t?{component:t}:{}}),this.setState({showEditModal:!0})}))}render(){const{pinId:t,onDelete:a,onSubmit:o,carouselSlotCurrentIndex:r}=this.props,{showEditModal:l}=this.state,d={...this.props,handlePinEditButtonClick:this.handlePinEditButtonClick};return i.a.createElement(n.Fragment,null,i.a.createElement(e,d),l&&i.a.createElement(s.a,{carouselSlotCurrentIndex:r,onDelete:a,onHide:this.onHide,onSubmit:o,pinId:t}))}}}))},"kT2/":function(e,t,a){var n=a("q1tI"),i=a.n(n),o=a("JW66"),r=a("Ye/N"),s=a("n6mq");const l=e=>{const t=e.split("\n");t.push("");const a=[];let n,i=[];return t.forEach(e=>{const t=e.indexOf("•");t>-1?(n||(n=""),i.push(e.substring(t+1).trim())):((n||i.length>0)&&a.push({heading:n,items:i}),n=e,i=[])}),a},d=e=>{let t="";return e.forEach((a,n)=>{const{heading:i,items:o}=a;i&&(t+=i),o&&o.length>0&&(t+="\n• "+o.join("\n• ")),n<e.length-1&&(t+="\n\n")}),t};t.a=function({header:e,helperText:t,listBlocks:a,onUpdate:c}){const u=d([{heading:r.a._("What you'll need","storyboard.detailsList.placeholder","Placeholder text header for details list of story Pin"),items:[r.a._("Write a bullet list of tools, materials and anything else!","storyboard.detailsList.placeholder","Placeholder text instructions for details list of story Pin"),r.a._("Type it up or copy and paste.","storyboard.detailsList.placeholder","Placeholder text instructions for details list of story Pin")]}]),[h,p]=Object(n.useState)(!a||0===a.length),[m,g]=Object(n.useState)(a?d(a):u);return i.a.createElement(s.d,null,i.a.createElement(s.U,{id:"storyboard-details-list",onChange:({value:e})=>{g(e),c(l(e))},onFocus:()=>{h&&(p(!1),g(""))},onBlur:()=>{""===m.trim()&&(p(!0),g(u))},onKeyDown:({event:e,value:t})=>{const{keyCode:a,target:n,shiftKey:i}=e;if(n instanceof HTMLTextAreaElement){const{selectionStart:r,selectionEnd:s}=n;if(r===s){let s=0,d=0,u="";if(a===o.a.KeyCode.ENTER?"\n• "!==t.substring(r-3,r)||"\n"!==t.substring(r,r+1)&&r!==t.length?i||"\n"===t.substring(r-1,r)||(s=0,u="\n• "):(s=-3,u="\n"):a!==o.a.KeyCode.BACKSPACE&&a!==o.a.KeyCode.DELETE||("\n• "===t.substring(r-3,r)?s=-3:"\n•"===t.substring(r-2,r)?s=-2:"\n"===t.substring(r-1,r)&&"•"===t.substring(r,r+1)&&(s=-1,d=1)),0!==s||0!==d||""!==u){const a=t.substring(0,r+s)+u+t.substring(r+d);g(a);const i=r+s+u.length;setTimeout(()=>{n.selectionStart=i,n.selectionEnd=i},10),c(l(a)),e.preventDefault()}}}},label:e,rows:7,value:m,helperText:t}))}},rrvb:function(e,t,a){var n=a("q1tI"),i=a.n(n),o=a("Ye/N"),r=a("9QW3"),s=a("NdQN"),l=a("IBrh"),d=a("gdcG"),c=a("n6mq");function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}t.a=Object(d.a)(class extends i.a.Component{constructor(...e){super(...e),u(this,"state",{showFlyout:!1}),u(this,"setContainerRef",e=>{this.containerRef=e}),u(this,"handleCreate",()=>{this.hideFlyout();const{onCreate:e}=this.props;e&&e()}),u(this,"handleSelectItem",e=>{this.hideFlyout();const{onSelect:t,onCreate:a}=this.props;e?t(e):a&&a()}),u(this,"handleDropdownTouch",()=>{this.setState(e=>({showFlyout:!e.showFlyout}))}),u(this,"handleHideFlyout",e=>{this.containerRef&&e.target instanceof HTMLElement&&!this.containerRef.contains(e.target)&&this.hideFlyout()}),u(this,"hideFlyout",()=>{const{hoverHandlers:{onMouseLeave:e}}=this.props;e(),this.setState({showFlyout:!1})})}componentDidMount(){document.addEventListener("click",this.handleHideFlyout,{capture:!0})}componentWillUnmount(){document.removeEventListener("click",this.handleHideFlyout,{capture:!0})}render(){const{dropdownValue:e,fetchMore:t,hoverHandlers:{onMouseOver:a,onMouseLeave:n},isHovering:d,isStoryPin:u,onCreate:h,onSearchQueryUpdate:p,renderRow:m,searchQuery:g,sections:b,createBtnDisabled:f}=this.props,{showFlyout:y}=this.state;this.indexManager=new r.a(b.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem);const E=!g.trim()||!!f;return i.a.createElement("div",{ref:this.setContainerRef,style:{...u?{flex:"grow"}:{}}},i.a.createElement(c.S,{fullWidth:!!u,onMouseEnter:a,onMouseLeave:n,onTap:this.handleDropdownTouch,rounding:2},i.a.createElement(c.d,{alignItems:"center",color:d?"lightWash":"lightGray",direction:"row",display:"flex",flex:"grow",paddingX:4,paddingY:u?4:3,rounding:u?4:2},i.a.createElement(c.d,{display:"flex",flex:"grow"},i.a.createElement(c.T,{weight:"bold"},e)),i.a.createElement(c.s,{accessibilityLabel:"",color:"darkGray",icon:"arrow-down",size:14}))),y&&i.a.createElement(c.d,{position:"relative"},i.a.createElement(c.d,{borderSize:"sm",color:"white",dangerouslySetInlineStyle:{__style:{zIndex:1}},direction:"column",display:"flex",overflow:"hidden",position:"absolute",rounding:u?4:2,width:"100%"},i.a.createElement(c.d,null,i.a.createElement(c.d,{display:"flex",marginStart:-1,marginEnd:-1,padding:2},i.a.createElement(c.d,{display:"flex",flex:"grow",paddingX:1},i.a.createElement(s.a,{hideIcon:!0,indexManager:this.indexManager,onChange:p,value:g})),h&&i.a.createElement(c.d,{paddingX:1},i.a.createElement(c.e,{disabled:E,inline:!0,onClick:this.handleCreate,text:o.a._("Create","board or section dropdown create button","board or section dropdown create button")})))),i.a.createElement(l.a,{fetchMore:t,indexManager:this.indexManager,maxHeight:240,onSelectItem:this.handleSelectItem,renderItem:m,sections:b}))))}})},xOLo:function(e,t,a){a.r(t),a.d(t,"CarouselSliders",(function(){return g}));var n=a("q1tI"),i=a.n(n),o=a("/MKj"),r=a("XSD5"),s=a("ZbwW"),l=a("Ye/N"),d=a("0nTG"),c=a("U4JR"),u=a("n6mq");const h={slider:{cursor:"pointer",height:"100%",position:"relative",width:"10%",zIndex:"105",pointerEvents:"auto"}},p=(e,t,a,n,i,o,r,s,l,u)=>{if(!u||!i){const{carousel_slots:u,id:h}=i;Object(c.a)(108,{...l,objectId:t,component:s,view:r,viewParameter:o,eventData:{pinCarouselSlotEventData:{carouselSlotId:u[a]&&Number(u[a].id),carouselDataId:Number(h),carouselSlotIndex:a,toCarouselSlotIndex:n}},...Object(d.a)(e)||{}})}},m=(e,t,a,n,i,o)=>{o||void 0===n||(e.preventDefault(),e.stopPropagation(),n(t,a)),void 0!==i&&i(a)},g=({carouselIndex:e,carouselData:t,changeCarouselSlotIndex:a,handleCarouselSwipe:n,pin:o,pinId:r,contextLogData:s,viewParameter:d,viewType:c,componentType:g,isEditMode:b})=>{if(!t)return null;const{carousel_slots:f,index:y}=t,E=void 0!==e?e:y,_=Math.max(0,E-1),C=Math.min(f.length-1,E+1);return i.a.createElement(u.d,{display:"flex",justifyContent:"between",position:"absolute",left:!0,right:!0,bottom:!0,top:!0},i.a.createElement("div",{"data-test-id":"carousel-slider-left",role:"presentation",onClick:e=>{m(e,r,_,a,n,b),p(o,r,E,_,t,d,c,g,s,b)},onKeyUp:e=>{m(e,r,_,a,n,b),p(o,r,E,_,t,d,c,g,s,b)},style:h.slider},E>0&&i.a.createElement(u.d,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},i.a.createElement(u.s,{color:"white",icon:"arrow-back",accessibilityLabel:l.a._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image")}))),i.a.createElement("div",{"data-test-id":"carousel-slider-right",role:"presentation",onClick:e=>{m(e,r,C,a,n,b),p(o,r,E,C,t,d,c,g,s,b)},onKeyUp:e=>{m(e,r,C,a,n,b),p(o,r,E,C,t,d,c,g,s,b)},style:h.slider},E<f.length-1&&i.a.createElement(u.d,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},i.a.createElement(u.s,{color:"white",icon:"arrow-forward",accessibilityLabel:l.a._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")}))))};t.default=Object(o.connect)(({pins:e},{carouselData:t,pinId:a})=>{const n=e[a];return{pin:n,carouselData:t||Object(s.a)(n)}},e=>({changeCarouselSlotIndex:(t,a)=>e(Object(r.a)(t,a))}))(g)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/61-f4876d69121e79656f8f.mjs.map